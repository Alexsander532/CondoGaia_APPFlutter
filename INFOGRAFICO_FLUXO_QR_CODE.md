# ğŸ“Š INFOGRÃFICO - Fluxo Completo QR Code v3.0

---

## ğŸ¯ ARQUITETURA GERAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUPABASE STORAGE                         â”‚
â”‚                   (Bucket: qr_codes)                        â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  qr_Autorizado teste 6_1764034613789.png             â”‚ â”‚
â”‚  â”‚  qr_fdasfds_1764034613812.png                        â”‚ â”‚
â”‚  â”‚  qr_Maria Silva_1764034613821.png                    â”‚ â”‚
â”‚  â”‚  ...                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘                                        â†“
         â”‚ (1. Upload PNG)            (4. Download PNG)
         â”‚                                        â”‚
         â”‚                                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUTTER APP                              â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  QrCodeHelper (lib/utils/qr_code_helper.dart)      â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  gerarESalvarQRNoSupabase()                         â”‚  â”‚
â”‚  â”‚  â”œâ”€ Gera PNG (QrPainter)                          â”‚  â”‚
â”‚  â”‚  â””â”€ Upload â†’ Supabase Storage                      â”‚  â”‚
â”‚  â”‚     â””â”€ Retorna URL pÃºblica                         â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  compartilharQRURL()                               â”‚  â”‚
â”‚  â”‚  â”œâ”€ Download PNG via HttpClient                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ Salva em arquivo temporÃ¡rio                    â”‚  â”‚
â”‚  â”‚  â””â”€ Share.shareXFiles() â†’ Apps nativos            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†‘                                        â†“         â”‚
â”‚         â”‚                                        â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  QrCodeWidget (lib/widgets/qr_code_widget.dart)  â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  initState()                                     â”‚   â”‚
â”‚  â”‚  â””â”€ _gerarESalvarQR()                           â”‚   â”‚
â”‚  â”‚     â””â”€ Chama Helper                             â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚  UI States:                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€ Loading (spinner verde)                     â”‚   â”‚
â”‚  â”‚  â”œâ”€ Erro (botÃ£o retry)                          â”‚   â”‚
â”‚  â”‚  â””â”€ Sucesso (QR visÃ­vel + botÃ£o)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â†‘                                        â†“         â”‚
â”‚         â”‚                                        â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Portaria Screens                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ portaria_inquilino_screen.dart                â”‚   â”‚
â”‚  â”‚  â””â”€ portaria_representante_screen.dart            â”‚   â”‚
â”‚  â”‚                                                    â”‚   â”‚
â”‚  â”‚  â””â”€ QrCodeWidget integrado no Card               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ FLUXO SEQUENCIAL

### Fase 1: Carregamento do Card

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User      â”‚
â”‚   Abre App  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tela Portaria       â”‚
â”‚  Carrega Autorizados â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Para cada Autorizado:       â”‚
â”‚                              â”‚
â”‚  1. Card renderiza           â”‚
â”‚  2. QrCodeWidget instancia   â”‚
â”‚  3. initState() chamado      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  _gerarESalvarQR()               â”‚
â”‚                                  â”‚
â”‚  setState(_gerando = true)       â”‚
â”‚  â””â”€ Renderiza spinner            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QrCodeHelper.gerarESalvarQRNoSupabase() â”‚
â”‚                                          â”‚
â”‚  1. Valida dados                        â”‚
â”‚  2. Gera imagem PNG (220x220)          â”‚
â”‚  3. Upload para Supabase Storage        â”‚
â”‚  4. Retorna URL pÃºblica                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sucesso!                        â”‚
â”‚                                  â”‚
â”‚  setState({                      â”‚
â”‚    _urlQr = "https://...",      â”‚
â”‚    _gerando = false              â”‚
â”‚  })                              â”‚
â”‚  â””â”€ Renderiza QR + BotÃ£o        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fase 2: Compartilhamento

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User clica em   â”‚
â”‚  "Compartilhar"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  setState(_compartilhando=t) â”‚
â”‚  â””â”€ Spinner no botÃ£o        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QrCodeHelper.compartilharQRURL()      â”‚
â”‚                                        â”‚
â”‚  1. HttpClient baixa PNG              â”‚
â”‚  2. Salva em arquivo temp             â”‚
â”‚  3. Share.shareXFiles()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DiÃ¡logo Nativo Abre     â”‚
â”‚  (Sistema Android/iOS)   â”‚
â”‚                          â”‚
â”‚  [WhatsApp] [Email]      â”‚
â”‚  [Drive]    [Telegram]   â”‚
â”‚  ...                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Seleciona App      â”‚
â”‚                          â”‚
â”‚  Exemplo: WhatsApp       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IMAGEM PNG COMPARTILHADA             â”‚
â”‚  â”œâ”€ Nome arquivo: qr_code_...png     â”‚
â”‚  â”œâ”€ Tamanho: ~6KB                    â”‚
â”‚  â””â”€ DestinatÃ¡rio recebe imagem       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SnackBar Sucesso        â”‚
â”‚  "QR Code              â”‚
â”‚  compartilhado!"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± LAYOUT DO CARD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ Autorizado teste 6                                    â”‚
â”‚  CPF: 026***                                              â”‚
â”‚  Parentesco: asdfdf                                       â”‚
â”‚                                                            â”‚
â”‚  ğŸ“… 24/11/2025, 26/11/2025 - 08:00:00 Ã s 18:00:00       â”‚
â”‚                                                            â”‚
â”‚  [âœï¸]  [ğŸ—‘ï¸]                                               â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â† Divider
â”‚                                                            â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚              â”‚                          â”‚                 â”‚
â”‚              â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚                 â”‚
â”‚              â”‚   â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ     â”‚                 â”‚
â”‚              â”‚   â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ     â”‚                 â”‚
â”‚              â”‚   â–ˆâ–ˆâ–‘â–‘[QR CODE]â–‘â–‘â–‘â–ˆâ–ˆ     â”‚                 â”‚
â”‚              â”‚   â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ     â”‚                 â”‚
â”‚              â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚                 â”‚
â”‚              â”‚                          â”‚                 â”‚
â”‚              â”‚  220x220 pixels          â”‚                 â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                            â”‚
â”‚        QR Code de: Autorizado teste 6                    â”‚
â”‚                                                            â”‚
â”‚   [ğŸ“¤ Compartilhar QR Code]                              â”‚
â”‚   (100% width, verde, 12px vertical padding)             â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ COMPONENTES

### QrCodeWidget Structure

```
QrCodeWidget (StatefulWidget)
â”‚
â”œâ”€ State Variables
â”‚  â”œâ”€ _gerando: bool
â”‚  â”œâ”€ _compartilhando: bool
â”‚  â”œâ”€ _urlQr: String?
â”‚  â””â”€ _erro: String?
â”‚
â”œâ”€ initState()
â”‚  â””â”€ _gerarESalvarQR()
â”‚
â”œâ”€ _buildQrCode()
â”‚  â””â”€ QrImageView (220x220)
â”‚
â”œâ”€ _compartilharQR()
â”‚  â””â”€ QrCodeHelper.compartilharQRURL()
â”‚
â””â”€ build()
   â”œâ”€ If dados invÃ¡lidos: erro
   â”œâ”€ If _erro != null: retry
   â”œâ”€ If _gerando: spinner
   â””â”€ Else: Column com QR + BotÃ£o
```

### QrCodeHelper Methods

```
QrCodeHelper (Static class)
â”‚
â”œâ”€ gerarImagemQR()
â”‚  â””â”€ QrPainter â†’ Uint8List
â”‚
â”œâ”€ gerarESalvarQRNoSupabase()
â”‚  â”œâ”€ Valida dados
â”‚  â”œâ”€ Gera PNG
â”‚  â”œâ”€ Upload â†’ Supabase
â”‚  â””â”€ Retorna URL
â”‚
â”œâ”€ compartilharQRURL()
â”‚  â”œâ”€ HttpClient â†’ Download
â”‚  â”œâ”€ File â†’ Salva temp
â”‚  â””â”€ Share.shareXFiles()
â”‚
â”œâ”€ validarDados()
â”‚  â””â”€ bool (< 2953 chars)
â”‚
â””â”€ obterInfoTamanho()
   â””â”€ String (info tamanho)
```

---

## ğŸŒ SUPABASE STORAGE

### URL PÃºblica Format

```
https://[seu-projeto].supabase.co/storage/v1/object/public/qr_codes/[arquivo].png

Exemplo:
https://tukpgefrddfchmvtiujp.supabase.co/storage/v1/object/public/qr_codes/qr_Autorizado%20teste%206_1764034613789.png
```

### Arquivo Storage

```
Bucket: qr_codes
â”œâ”€ Public: âœ… YES
â”œâ”€ Policies:
â”‚  â”œâ”€ SELECT: âœ… ENABLED
â”‚  â””â”€ INSERT: âœ… ENABLED
â”‚
â””â”€ Files:
   â”œâ”€ qr_Autorizado teste 6_1764034613789.png (5.9 KB)
   â”œâ”€ qr_fdasfds_1764034613812.png (5.7 KB)
   â”œâ”€ qr_Maria Silva_1764034613821.png (6.2 KB)
   â””â”€ ... (mais arquivos)
```

---

## ğŸ“Š ESTADOS DO WIDGET

```
1. VALIDANDO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âŒ Dados      â”‚
   â”‚    invÃ¡lidos   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. GERANDO (Loading)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ğŸ”„ Spinner    â”‚
   â”‚  Gerando...    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. ERRO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âŒ Erro        â”‚
   â”‚                â”‚
   â”‚  [Retry]       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. SUCESSO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  [QR CODE]     â”‚
   â”‚                â”‚
   â”‚  [Compartilhar]â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. COMPARTILHANDO
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  [QR CODE]     â”‚
   â”‚                â”‚
   â”‚  [â³ Shared...]â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ TIMELINE DE EXECUÃ‡ÃƒO

```
T0      T1      T2      T3      T4      T5      T6
|-------|-------|-------|-------|-------|-------|
User    Card    QR      Gen.    Upload  Render  User
Opens   Loads   Init    Image   to SB   Success Sees
App                                             QR
```

---

## ğŸ” DEPENDÃŠNCIAS

```
pubspec.yaml
â”œâ”€ qr_flutter: ^4.1.0
â”‚  â””â”€ QrPainter, QrImageView
â”‚
â”œâ”€ share_plus: ^7.0.0
â”‚  â””â”€ Share.shareXFiles()
â”‚
â”œâ”€ supabase_flutter: ^2.8.0
â”‚  â””â”€ Storage upload
â”‚
â””â”€ dart:io
   â””â”€ HttpClient, File, Directory
```

---

## ğŸ¯ DADOS CODIFICADOS

```
JSON Structure (max 2953 chars):

{
  "id": "uuid-unico",
  "nome": "Autorizado teste 6",
  "cpf_cnpj": "026.123.456-78",
  "telefone": "11987654321",
  "tipo": "inquilino",
  "unidade": "101",
  "data_autorizacao": "2025-11-24T08:00:00Z",
  "timestamp": "2025-11-24T14:45:23Z",
  "veiculo": "ABC-1234",
  "horario": "08:00 Ã s 18:00"
}

â†“ Encoded em QR Code â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ   â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ   â”‚
â”‚  â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆ  â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
(220 Ã— 220 pixels)
```

---

## âœ… CHECKLIST VISUAL

```
Carregamento
â””â”€ âœ… QR aparece em < 2 seg
   â”œâ”€ âœ… Spinner durante geraÃ§Ã£o
   â”œâ”€ âœ… QR visÃ­vel 220x220
   â””â”€ âœ… BotÃ£o habilitado

Compartilhamento
â””â”€ âœ… Clique abre diÃ¡logo
   â”œâ”€ âœ… Apps listados (WhatsApp, Email, etc)
   â”œâ”€ âœ… IMAGEM Ã© compartilhada (nÃ£o URL)
   â””â”€ âœ… SnackBar sucesso

Supabase
â””â”€ âœ… Arquivo criado no bucket
   â”œâ”€ âœ… Nome segue padrÃ£o
   â””â”€ âœ… URL Ã© pÃºblica

Visual
â””â”€ âœ… QR dentro do card
   â”œâ”€ âœ… Divider separador
   â”œâ”€ âœ… Sem borda/container extra
   â””â”€ âœ… BotÃ£o full-width verde
```

---

*InfogrÃ¡fico criado em 24/11/2025*  
**Status: ğŸŸ¢ Pronto para implementaÃ§Ã£o**
